{"uid":"779f9b1f36463926","name":"test_reestablish_relation","fullName":"tests.integration.ha_tests.test_async_replication#test_reestablish_relation","historyId":"983fbfc05186ee6ff860fe59106cd462","time":{"start":1733453721158,"stop":1733453956916,"duration":235758},"description":"Test that the relation can be broken and re-established.","descriptionHtml":"<p>Test that the relation can be broken and re-established.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1733452668126,"stop":1733452668126,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1733452668127,"stop":1733452668544,"duration":417},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1733452668127,"stop":1733452668127,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"first_model","time":{"start":1733452668544,"stop":1733452668545,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model","time":{"start":1733452668545,"stop":1733452669633,"duration":1088},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1733453721157,"stop":1733453721157,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1733453721157,"stop":1733453721157,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test that the relation can be broken and re-established.","status":"passed","steps":[],"attachments":[{"uid":"620de08e6f1cceee","name":"log","source":"620de08e6f1cceee.txt","type":"text/plain","size":6673}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1733453956917,"stop":1733453957949,"duration":1032},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1733453957950,"stop":1733453957950,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model::finalizer","time":{"start":1733454830926,"stop":1733454830952,"duration":26},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1733454830953,"stop":1733454831852,"duration":899},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1733454831856,"stop":1733454831858,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1733454831858,"stop":1733454831858,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1733454831858,"stop":1733454831860,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"@pytest.mark.skipif(False, reason='Requires juju 3')"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_async_replication"},{"name":"host","value":"github-runner"},{"name":"thread","value":"19290-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_async_replication"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"8855cc6083b35d6c","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":2,"broken":0,"skipped":83,"passed":81,"unknown":14,"total":180},"items":[{"uid":"86b8e366df885011","reportUrl":"../259//#testresult/86b8e366df885011","status":"passed","time":{"start":1733370650533,"stop":1733370885367,"duration":234834}},{"uid":"752a06c11a5c295","reportUrl":"../258//#testresult/752a06c11a5c295","status":"passed","time":{"start":1733278488222,"stop":1733278664063,"duration":175841}},{"uid":"91ee32fea57df57a","reportUrl":"../257//#testresult/91ee32fea57df57a","status":"passed","time":{"start":1733195866851,"stop":1733196033084,"duration":166233}},{"uid":"58cf7dede910b261","reportUrl":"../256//#testresult/58cf7dede910b261","status":"passed","time":{"start":1733107543294,"stop":1733107720544,"duration":177250}},{"uid":"df64e2a1f9c7cc77","reportUrl":"../255//#testresult/df64e2a1f9c7cc77","status":"passed","time":{"start":1733019757718,"stop":1733019921131,"duration":163413}},{"uid":"8a25398a24295e69","reportUrl":"../254//#testresult/8a25398a24295e69","status":"passed","time":{"start":1732937599034,"stop":1732937866764,"duration":267730}},{"uid":"b6ee879ac68a597c","reportUrl":"../253//#testresult/b6ee879ac68a597c","status":"passed","time":{"start":1732848861927,"stop":1732849027510,"duration":165583}},{"uid":"86b578e7c9be2355","reportUrl":"../252//#testresult/86b578e7c9be2355","status":"unknown","time":{}},{"uid":"7ae638744edafa3b","reportUrl":"../251//#testresult/7ae638744edafa3b","status":"failed","statusDetails":"AssertionError: Promote action failed\nassert (1 == 0 or None == '0')\n +  where 1 = <built-in method get of dict object at 0x7b0793ace4c0>('return-code', None)\n +    where <built-in method get of dict object at 0x7b0793ace4c0> = {'return-code': 1, 'stderr': \"Uncaught AttributeError in charm code: 'NoneType' object has no attribute 'name'\\nUse `juju debug-log` to see the full traceback.\\n\"}.get\n +      where {'return-code': 1, 'stderr': \"Uncaught AttributeError in charm code: 'NoneType' object has no attribute 'name'\\nUse `juju debug-log` to see the full traceback.\\n\"} = <Action entity_id=\"72\">.results\n +  and   None = <built-in method get of dict object at 0x7b0793ace4c0>('Code', None)\n +    where <built-in method get of dict object at 0x7b0793ace4c0> = {'return-code': 1, 'stderr': \"Uncaught AttributeError in charm code: 'NoneType' object has no attribute 'name'\\nUse `juju debug-log` to see the full traceback.\\n\"}.get\n +      where {'return-code': 1, 'stderr': \"Uncaught AttributeError in charm code: 'NoneType' object has no attribute 'name'\\nUse `juju debug-log` to see the full traceback.\\n\"} = <Action entity_id=\"72\">.results","time":{"start":1732676777244,"stop":1732676815774,"duration":38530}},{"uid":"6629da2bde12eb48","reportUrl":"../250//#testresult/6629da2bde12eb48","status":"passed","time":{"start":1732589569709,"stop":1732589730989,"duration":161280}},{"uid":"7efd13d662b5f790","reportUrl":"../249//#testresult/7efd13d662b5f790","status":"passed","time":{"start":1732503407683,"stop":1732503586876,"duration":179193}},{"uid":"613df0b700d3c61d","reportUrl":"../248//#testresult/613df0b700d3c61d","status":"passed","time":{"start":1732416617616,"stop":1732416766497,"duration":148881}},{"uid":"27adc05175b7f4f1","reportUrl":"../247//#testresult/27adc05175b7f4f1","status":"passed","time":{"start":1732330943738,"stop":1732331127373,"duration":183635}},{"uid":"5b061b2677b2968a","reportUrl":"../246//#testresult/5b061b2677b2968a","status":"passed","time":{"start":1732242468396,"stop":1732242641421,"duration":173025}},{"uid":"333406b2c1264fcd","reportUrl":"../245//#testresult/333406b2c1264fcd","status":"unknown","time":{}},{"uid":"5c6f2d5b9739d196","reportUrl":"../244//#testresult/5c6f2d5b9739d196","status":"passed","time":{"start":1732071397436,"stop":1732071584877,"duration":187441}},{"uid":"8ee7261abce4b573","reportUrl":"../243//#testresult/8ee7261abce4b573","status":"passed","time":{"start":1731987087161,"stop":1731987272171,"duration":185010}},{"uid":"27de656af01c24c5","reportUrl":"../242//#testresult/27de656af01c24c5","status":"passed","time":{"start":1731898640213,"stop":1731898803633,"duration":163420}},{"uid":"b6c58b215c061d59","reportUrl":"../241//#testresult/b6c58b215c061d59","status":"passed","time":{"start":1731809717077,"stop":1731809879491,"duration":162414}},{"uid":"33dfdca0fc346885","reportUrl":"../240//#testresult/33dfdca0fc346885","status":"passed","time":{"start":1731727003486,"stop":1731727178593,"duration":175107}}]},"tags":["asyncio","abort_on_fail","@pytest.mark.skipif(False, reason='Requires juju 3')","group(1)"]},"source":"779f9b1f36463926.json","parameterValues":[]}