{"uid":"51b38c78a8a18015","name":"test_reestablish_relation","fullName":"tests.integration.ha_tests.test_async_replication#test_reestablish_relation","historyId":"983fbfc05186ee6ff860fe59106cd462","time":{"start":1734150140316,"stop":1734150335306,"duration":194990},"description":"Test that the relation can be broken and re-established.","descriptionHtml":"<p>Test that the relation can be broken and re-established.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1734149093593,"stop":1734149093593,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1734149093593,"stop":1734149093593,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1734149093593,"stop":1734149093888,"duration":295},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model","time":{"start":1734149093888,"stop":1734149094844,"duration":956},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"first_model","time":{"start":1734149093888,"stop":1734149093888,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1734150140315,"stop":1734150140315,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1734150140315,"stop":1734150140315,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test that the relation can be broken and re-established.","status":"passed","steps":[],"attachments":[{"uid":"3b4507b6bfd4a974","name":"log","source":"3b4507b6bfd4a974.txt","type":"text/plain","size":6588}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1734150335307,"stop":1734150336337,"duration":1030},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1734150336338,"stop":1734150336338,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model::finalizer","time":{"start":1734151199103,"stop":1734151199120,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1734151199120,"stop":1734151199877,"duration":757},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1734151199877,"stop":1734151199877,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1734151199877,"stop":1734151199878,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1734151199878,"stop":1734151199878,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"@pytest.mark.skipif(False, reason='Requires juju 3')"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_async_replication"},{"name":"host","value":"github-runner"},{"name":"thread","value":"22408-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_async_replication"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"4fae611ceeb999d6","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":2,"broken":0,"skipped":83,"passed":89,"unknown":14,"total":188},"items":[{"uid":"ad330d1efcc2ce89","reportUrl":"../267//#testresult/ad330d1efcc2ce89","status":"passed","time":{"start":1734056498692,"stop":1734056680527,"duration":181835}},{"uid":"49904ba91f145c25","reportUrl":"../266//#testresult/49904ba91f145c25","status":"passed","time":{"start":1733971192501,"stop":1733971361463,"duration":168962}},{"uid":"43b3233e8b89c923","reportUrl":"../265//#testresult/43b3233e8b89c923","status":"passed","time":{"start":1733883732252,"stop":1733883895514,"duration":163262}},{"uid":"fd3fc18d62bf11a9","reportUrl":"../264//#testresult/fd3fc18d62bf11a9","status":"passed","time":{"start":1733798386291,"stop":1733798554459,"duration":168168}},{"uid":"160aa1fc6396dbdc","reportUrl":"../263//#testresult/160aa1fc6396dbdc","status":"passed","time":{"start":1733711909261,"stop":1733712071246,"duration":161985}},{"uid":"21e2b87df66d16cc","reportUrl":"../262//#testresult/21e2b87df66d16cc","status":"passed","time":{"start":1733624182147,"stop":1733624337356,"duration":155209}},{"uid":"79e7283d40c40587","reportUrl":"../261//#testresult/79e7283d40c40587","status":"passed","time":{"start":1733539731018,"stop":1733539890607,"duration":159589}},{"uid":"779f9b1f36463926","reportUrl":"../260//#testresult/779f9b1f36463926","status":"passed","time":{"start":1733453721158,"stop":1733453956916,"duration":235758}},{"uid":"86b8e366df885011","reportUrl":"../259//#testresult/86b8e366df885011","status":"passed","time":{"start":1733370650533,"stop":1733370885367,"duration":234834}},{"uid":"752a06c11a5c295","reportUrl":"../258//#testresult/752a06c11a5c295","status":"passed","time":{"start":1733278488222,"stop":1733278664063,"duration":175841}},{"uid":"91ee32fea57df57a","reportUrl":"../257//#testresult/91ee32fea57df57a","status":"passed","time":{"start":1733195866851,"stop":1733196033084,"duration":166233}},{"uid":"58cf7dede910b261","reportUrl":"../256//#testresult/58cf7dede910b261","status":"passed","time":{"start":1733107543294,"stop":1733107720544,"duration":177250}},{"uid":"df64e2a1f9c7cc77","reportUrl":"../255//#testresult/df64e2a1f9c7cc77","status":"passed","time":{"start":1733019757718,"stop":1733019921131,"duration":163413}},{"uid":"8a25398a24295e69","reportUrl":"../254//#testresult/8a25398a24295e69","status":"passed","time":{"start":1732937599034,"stop":1732937866764,"duration":267730}},{"uid":"b6ee879ac68a597c","reportUrl":"../253//#testresult/b6ee879ac68a597c","status":"passed","time":{"start":1732848861927,"stop":1732849027510,"duration":165583}},{"uid":"86b578e7c9be2355","reportUrl":"../252//#testresult/86b578e7c9be2355","status":"unknown","time":{}},{"uid":"7ae638744edafa3b","reportUrl":"../251//#testresult/7ae638744edafa3b","status":"failed","statusDetails":"AssertionError: Promote action failed\nassert (1 == 0 or None == '0')\n +  where 1 = <built-in method get of dict object at 0x7b0793ace4c0>('return-code', None)\n +    where <built-in method get of dict object at 0x7b0793ace4c0> = {'return-code': 1, 'stderr': \"Uncaught AttributeError in charm code: 'NoneType' object has no attribute 'name'\\nUse `juju debug-log` to see the full traceback.\\n\"}.get\n +      where {'return-code': 1, 'stderr': \"Uncaught AttributeError in charm code: 'NoneType' object has no attribute 'name'\\nUse `juju debug-log` to see the full traceback.\\n\"} = <Action entity_id=\"72\">.results\n +  and   None = <built-in method get of dict object at 0x7b0793ace4c0>('Code', None)\n +    where <built-in method get of dict object at 0x7b0793ace4c0> = {'return-code': 1, 'stderr': \"Uncaught AttributeError in charm code: 'NoneType' object has no attribute 'name'\\nUse `juju debug-log` to see the full traceback.\\n\"}.get\n +      where {'return-code': 1, 'stderr': \"Uncaught AttributeError in charm code: 'NoneType' object has no attribute 'name'\\nUse `juju debug-log` to see the full traceback.\\n\"} = <Action entity_id=\"72\">.results","time":{"start":1732676777244,"stop":1732676815774,"duration":38530}},{"uid":"6629da2bde12eb48","reportUrl":"../250//#testresult/6629da2bde12eb48","status":"passed","time":{"start":1732589569709,"stop":1732589730989,"duration":161280}},{"uid":"7efd13d662b5f790","reportUrl":"../249//#testresult/7efd13d662b5f790","status":"passed","time":{"start":1732503407683,"stop":1732503586876,"duration":179193}},{"uid":"613df0b700d3c61d","reportUrl":"../248//#testresult/613df0b700d3c61d","status":"passed","time":{"start":1732416617616,"stop":1732416766497,"duration":148881}}]},"tags":["asyncio","abort_on_fail","@pytest.mark.skipif(False, reason='Requires juju 3')","group(1)"]},"source":"51b38c78a8a18015.json","parameterValues":[]}