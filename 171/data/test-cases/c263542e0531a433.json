{"uid":"c263542e0531a433","name":"test_redeploy_charm_same_model_after_forcing_removal","fullName":"tests.integration.test_charm#test_redeploy_charm_same_model_after_forcing_removal","historyId":"ca9aac0977186ec16e8b66c76fd09de6","time":{"start":1725939224605,"stop":1725940019203,"duration":794598},"description":"Redeploy the charm in the same model to test that it works after a forceful removal.","descriptionHtml":"<p>Redeploy the charm in the same model to test that it works after a forceful removal.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"tmp_path_factory","time":{"start":1725936256331,"stop":1725936256331,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1725936256331,"stop":1725936256331,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1725936256331,"stop":1725936256604,"duration":273},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1725939224605,"stop":1725939224605,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Redeploy the charm in the same model to test that it works after a forceful removal.","status":"passed","steps":[],"attachments":[{"uid":"105d6f0562242323","name":"log","source":"105d6f0562242323.txt","type":"text/plain","size":5958}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1725940019204,"stop":1725940019204,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1725940686404,"stop":1725940686960,"duration":556},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1725940686961,"stop":1725940686961,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1725940686961,"stop":1725940686961,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1725940686961,"stop":1725940686962,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_charm"},{"name":"host","value":"github-runner"},{"name":"thread","value":"15395-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_charm"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"d3f22a47115dc7f3","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":1,"broken":0,"skipped":25,"passed":56,"unknown":12,"total":94},"items":[{"uid":"747484bdacc18416","reportUrl":"../170//#testresult/747484bdacc18416","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1725848335373,"stop":1725848335373,"duration":0}},{"uid":"99544cd24f40896b","reportUrl":"../169//#testresult/99544cd24f40896b","status":"passed","time":{"start":1725764178018,"stop":1725765019856,"duration":841838}},{"uid":"1642f6ae3945e382","reportUrl":"../168//#testresult/1642f6ae3945e382","status":"passed","time":{"start":1725678385861,"stop":1725679192960,"duration":807099}},{"uid":"e9c2fc0ef5fb7f97","reportUrl":"../167//#testresult/e9c2fc0ef5fb7f97","status":"passed","time":{"start":1725590655986,"stop":1725591291695,"duration":635709}},{"uid":"583cbae0fcfb3632","reportUrl":"../166//#testresult/583cbae0fcfb3632","status":"passed","time":{"start":1725504799439,"stop":1725505442538,"duration":643099}},{"uid":"6075242fd4969b1d","reportUrl":"../165//#testresult/6075242fd4969b1d","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1725416600484,"stop":1725416600484,"duration":0}},{"uid":"3a90006b3bc52be8","reportUrl":"../164//#testresult/3a90006b3bc52be8","status":"passed","time":{"start":1725332448737,"stop":1725333252013,"duration":803276}},{"uid":"707eddbae2f2a8db","reportUrl":"../163//#testresult/707eddbae2f2a8db","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1725243517769,"stop":1725243517769,"duration":0}},{"uid":"139706c6e37fce63","reportUrl":"../162//#testresult/139706c6e37fce63","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1725157590669,"stop":1725157590669,"duration":0}},{"uid":"624d5a26adbc494f","reportUrl":"../161//#testresult/624d5a26adbc494f","status":"passed","time":{"start":1725073467939,"stop":1725074135201,"duration":667262}},{"uid":"5b3020496eec513e","reportUrl":"../160//#testresult/5b3020496eec513e","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1724985458845,"stop":1724985458845,"duration":0}},{"uid":"6ed1ed4e429df884","reportUrl":"../159//#testresult/6ed1ed4e429df884","status":"passed","time":{"start":1724900720019,"stop":1724901388740,"duration":668721}},{"uid":"b0769f4879880ed7","reportUrl":"../158//#testresult/b0769f4879880ed7","status":"passed","time":{"start":1724812179163,"stop":1724812819648,"duration":640485}},{"uid":"67abded694dabc3","reportUrl":"../157//#testresult/67abded694dabc3","status":"passed","time":{"start":1724727460590,"stop":1724728115394,"duration":654804}},{"uid":"92863d4abc15cc22","reportUrl":"../156//#testresult/92863d4abc15cc22","status":"passed","time":{"start":1724641851407,"stop":1724642535230,"duration":683823}},{"uid":"e714494bfe1e388f","reportUrl":"../155//#testresult/e714494bfe1e388f","status":"failed","statusDetails":"AssertionError: assert set() == {'Endpoints/p...eplicas', ...}\n  \n  Extra items in the right set:\n  \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mEndpoints/patroni-postgresql-k8s\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mService/patroni-postgresql-k8s-config\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mEndpoints/patroni-postgresql-k8s-sync\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mService/postgresql-k8s-primary\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mEndpoints/postgresql-k8s-replicas\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mEndpoints/postgresql-k8s\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mEndpoints/postgresql-k8s-primary\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mEndpoints/patroni-postgresql-k8s-config\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mService/postgresql-k8s\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mService/postgresql-k8s-replicas\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \n  Full diff:\n  \u001B[0m\u001B[92m+ set()\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m- {\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m-     'Endpoints/patroni-postgresql-k8s',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m-     'Endpoints/patroni-postgresql-k8s-config',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m-     'Endpoints/patroni-postgresql-k8s-sync',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m-     'Endpoints/postgresql-k8s',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m-     'Endpoints/postgresql-k8s-primary',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m-     'Endpoints/postgresql-k8s-replicas',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m-     'Service/patroni-postgresql-k8s-config',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m-     'Service/postgresql-k8s',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m-     'Service/postgresql-k8s-primary',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m-     'Service/postgresql-k8s-replicas',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m- }\u001B[39;49;00m\u001B[90m\u001B[39;49;00m","time":{"start":1724553558447,"stop":1724553559258,"duration":811}},{"uid":"188d7c294e48b4c9","reportUrl":"../154//#testresult/188d7c294e48b4c9","status":"passed","time":{"start":1724467715580,"stop":1724468355498,"duration":639918}},{"uid":"743ab9de4cb6aeee","reportUrl":"../153//#testresult/743ab9de4cb6aeee","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1724378805753,"stop":1724378805753,"duration":0}},{"uid":"376aa9a43508d956","reportUrl":"../152//#testresult/376aa9a43508d956","status":"passed","time":{"start":1724295752096,"stop":1724296478875,"duration":726779}},{"uid":"cbb19af4b5255c40","reportUrl":"../151//#testresult/cbb19af4b5255c40","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1724207433086,"stop":1724207433086,"duration":0}}]},"tags":["asyncio","group(1)"]},"source":"c263542e0531a433.json","parameterValues":[]}