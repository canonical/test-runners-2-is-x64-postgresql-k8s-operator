{"uid":"63ddb05f8dd0dd7f","name":"test_mattermost_db","fullName":"tests.integration.test_tls#test_mattermost_db","historyId":"cdae414860de0e7068bea24175d8d4b0","time":{"start":1725848248476,"stop":1725849439423,"duration":1190947},"description":"Deploy Mattermost to test the 'db' relation.\n\n    Mattermost needs TLS enabled on PostgreSQL to correctly connect to it.\n\n    Args:\n        ops_test: The ops test framework\n    ","descriptionHtml":"<p>Deploy Mattermost to test the 'db' relation.</p>\n<pre><code>Mattermost needs TLS enabled on PostgreSQL to correctly connect to it.\n\nArgs:\n    ops_test: The ops test framework\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1725848231116,"stop":1725848231116,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1725848231116,"stop":1725848231117,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1725848231117,"stop":1725848231474,"duration":357},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1725848248475,"stop":1725848248476,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Deploy Mattermost to test the 'db' relation.\n\n    Mattermost needs TLS enabled on PostgreSQL to correctly connect to it.\n\n    Args:\n        ops_test: The ops test framework\n    ","status":"passed","steps":[],"attachments":[{"uid":"2ef3b1f07f23e7d5","name":"log","source":"2ef3b1f07f23e7d5.txt","type":"text/plain","size":9887}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"ops_test::finalizer","time":{"start":1725849439424,"stop":1725849439930,"duration":506},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1725849439424,"stop":1725849439424,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1725849439931,"stop":1725849439931,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1725849439931,"stop":1725849439931,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1725849439931,"stop":1725849439932,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"@pytest.mark.skipif(False, reason='Requires amd64 architecture')"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_tls"},{"name":"host","value":"github-runner"},{"name":"thread","value":"19662-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_tls"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"d0d82b8a6790f2e2","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":3,"broken":40,"skipped":0,"passed":37,"unknown":13,"total":93},"items":[{"uid":"9710d4cdc71e06ee","reportUrl":"../169//#testresult/9710d4cdc71e06ee","status":"passed","time":{"start":1725761307217,"stop":1725762685169,"duration":1377952}},{"uid":"9103199d3dde549d","reportUrl":"../168//#testresult/9103199d3dde549d","status":"broken","statusDetails":"juju.errors.JujuError: resolving ch:self-signed-certificates : resolving with preferred channel: Post \"https://api.charmhub.io/v2/charms/refresh\": dial tcp: lookup api.charmhub.io: i/o timeout","time":{"start":1725675580582,"stop":1725675610630,"duration":30048}},{"uid":"9f1849e61e109e43","reportUrl":"../167//#testresult/9f1849e61e109e43","status":"passed","time":{"start":1725589288935,"stop":1725590390927,"duration":1101992}},{"uid":"b2b9b25edca34654","reportUrl":"../166//#testresult/b2b9b25edca34654","status":"broken","statusDetails":"juju.errors.JujuError: resolving ch:self-signed-certificates : resolving with preferred channel: Post \"https://api.charmhub.io/v2/charms/refresh\": dial tcp: lookup api.charmhub.io: i/o timeout","time":{"start":1725502116752,"stop":1725502146790,"duration":30038}},{"uid":"645a8bab64f8580a","reportUrl":"../165//#testresult/645a8bab64f8580a","status":"passed","time":{"start":1725415834766,"stop":1725417256398,"duration":1421632}},{"uid":"d4e6f01f905708de","reportUrl":"../164//#testresult/d4e6f01f905708de","status":"passed","time":{"start":1725329509516,"stop":1725331018957,"duration":1509441}},{"uid":"281cee3542965f7d","reportUrl":"../163//#testresult/281cee3542965f7d","status":"passed","time":{"start":1725242799394,"stop":1725244099485,"duration":1300091}},{"uid":"fe83fc6384a4d2a1","reportUrl":"../162//#testresult/fe83fc6384a4d2a1","status":"passed","time":{"start":1725156600134,"stop":1725157904058,"duration":1303924}},{"uid":"9310de9f03f5668f","reportUrl":"../161//#testresult/9310de9f03f5668f","status":"broken","statusDetails":"juju.errors.JujuError: resolving ch:self-signed-certificates : resolving with preferred channel: Post \"https://api.charmhub.io/v2/charms/refresh\": dial tcp: lookup api.charmhub.io: i/o timeout","time":{"start":1725070842830,"stop":1725070872906,"duration":30076}},{"uid":"b03f64e45d7c27e4","reportUrl":"../160//#testresult/b03f64e45d7c27e4","status":"passed","time":{"start":1724984375581,"stop":1724985494096,"duration":1118515}},{"uid":"d74298b42560b191","reportUrl":"../159//#testresult/d74298b42560b191","status":"passed","time":{"start":1724898604629,"stop":1724900039180,"duration":1434551}},{"uid":"62e1b91fbbb4278f","reportUrl":"../158//#testresult/62e1b91fbbb4278f","status":"passed","time":{"start":1724810396838,"stop":1724811852750,"duration":1455912}},{"uid":"c19832215495d56d","reportUrl":"../157//#testresult/c19832215495d56d","status":"broken","statusDetails":"juju.errors.JujuError: resolving ch:self-signed-certificates : resolving with preferred channel: Post \"https://api.charmhub.io/v2/charms/refresh\": dial tcp: lookup api.charmhub.io: i/o timeout","time":{"start":1724724958589,"stop":1724724988644,"duration":30055}},{"uid":"54d8619642bf83c4","reportUrl":"../156//#testresult/54d8619642bf83c4","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: postgresql-k8s/2","time":{"start":1724639506670,"stop":1724639537428,"duration":30758}},{"uid":"561c0bc4276c0af1","reportUrl":"../155//#testresult/561c0bc4276c0af1","status":"passed","time":{"start":1724552298594,"stop":1724553734583,"duration":1435989}},{"uid":"11da04f881195fbd","reportUrl":"../154//#testresult/11da04f881195fbd","status":"passed","time":{"start":1724466096991,"stop":1724467731654,"duration":1634663}},{"uid":"9f10c159765a186b","reportUrl":"../153//#testresult/9f10c159765a186b","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\npostgresql-k8s/0 [idle] active: \n  postgresql-k8s/1 [idle] active: \n  postgresql-k8s/2 [idle] active: Primary","time":{"start":1724378534719,"stop":1724379537169,"duration":1002450}},{"uid":"23b2526197dd2273","reportUrl":"../152//#testresult/23b2526197dd2273","status":"passed","time":{"start":1724293291299,"stop":1724294517866,"duration":1226567}},{"uid":"bcf5c8a5745ec7c","reportUrl":"../151//#testresult/bcf5c8a5745ec7c","status":"broken","statusDetails":"juju.errors.JujuError: resolving ch:self-signed-certificates : resolving with preferred channel: Post \"https://api.charmhub.io/v2/charms/refresh\": dial tcp: lookup api.charmhub.io: i/o timeout","time":{"start":1724206446830,"stop":1724206476902,"duration":30072}},{"uid":"59dddc72d324d5e3","reportUrl":"../150//#testresult/59dddc72d324d5e3","status":"broken","statusDetails":"Exception: Expected command su postgres -c \"/usr/lib/postgresql/14/bin/pg_ctl -D /var/lib/postgresql/data/pgdata promote\" to succeed instead it failed: pg_ctl: PID file \"/var/lib/postgresql/data/pgdata/postmaster.pid\" does not exist\nIs server running?\nERROR command terminated with exit code 1\n. Code: 1","time":{"start":1724118952425,"stop":1724119715758,"duration":763333}}]},"tags":["asyncio","@pytest.mark.skipif(False, reason='Requires amd64 architecture')","group(1)"]},"source":"63ddb05f8dd0dd7f.json","parameterValues":[]}